# TR-09-2 Booking Tags

- **Name:**  urn:x-vsf:tag:tr-09-2:booking-list/v1.0
  - **Description:** Booking List tag that can be used to indicate that an NMOS resource is part of one or more TR-09-2 bookings.
  - **Proponent:** [VSF](https://www.vsf.tv/)

- **Name:**  urn:x-vsf:tag:tr-09-2:current-booking/v1.0
  - **Description:** Current Booking tag that can be used to indicate that an NMOS resource is part of an active TR-09-2 booking.
  - **Proponent:** [VSF](https://www.vsf.tv/)

This document describes an application of the AMWA IS-04 `tags` structures to enable control systems to identify NMOS resources that are being shared across a facility boundary as described in the VSF TR-09-2 specification.

## Introduction

The aim of the TR-09-2 booking tags is to facilitate the sharing of NMOS resources between two completely independent media facilities.

The tags contain information that allows an NMOS resource to be identified and matched to information defined during an earlier booking process.

This booking process takes place between the facility offering the shared resource and the facility consuming the shared resource, as defined in the VSF TR-09-2 specification document.

Two sets of tags are defined: the booking list tags and the current booking tags.

[TODO: add description of who uses the information in the tags]

## Booking List URN

The booking list URN `urn:x-vsf:tag:tr-09-2:booking-list/v1.0` defines a list of bookings associated with the shared NMOS resource.

```json
"tags": {
   "urn:x-vsf:tag:tr-09-2:booking-list/v1.0": [
      "{booking-id1}:{resource-id1}[:{label1}]",
      "{booking-id2}:{resource-id2}[:{label2}]"
   ]
}
```

Where

| Parameter | Description | Values |
| --------- | ----------- | ------ |
| booking-id1 | A string that defines a unique identifier for a first booking | Any string not containing `:` |
| resource-id1 | A string that defines a unique identifier for the NMOS resource within the first booking | Any string not containing `:` |
| label1 | Optional string that gives a user-friendly label for the NMOS resource within the first booking | Any string not containing `:` |
| booking-id2 | A string that defines a unique identifier for a second booking | Any string not containing `:` |
| resource-id2 | A string that defines a unique identifier for the NMOS resource within the second booking | Any string not containing `:` |
| label2 | Optional string that gives a user-friendly label for the NMOS resource within the second booking | Any string not containing `:` |
| etc. | | |

The colon character, `:`, is reserved and MUST not be used in any of the parameters listed.

As defined in the VSF TR-09-1 specification:
 - the booking-id is provided by the facility consuming the shared resource
 - the resource-id and label are provided by the facility offering the shared resource
 - the resource-id should be unique to the TR-09-2 booking and MUST not be the same as any existing NMOS UUID associated with the resource
 
## Current Booking URN

The current booking URN `urn:x-vsf:tag:tr-09-2:current-booking/v1.0` defines the currently active booking for the shared NMOS resource. If none of the bookings in the booking list is currently active, then this tag MUST be omitted.

```json
"tags": {
   "urn:x-vsf:tag:tr-09-2:current-booking/v1.0": [
      "{booking-id}"
   ]
}
```

Where

| Parameter | Description | Values |
| --------- | ----------- | ------ |
| booking-id | The currently active booking from the booking list | Any string not containing `:`, MUST match one of the booking-id values in the booking list |

Only one booking-id is ever listed in the current booking.

## Examples

[TODO: add examples]


## NMOS resource JSON samples

[TODO: add sample JSON]

Senders with tags

